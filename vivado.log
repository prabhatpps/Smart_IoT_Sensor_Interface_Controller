#-----------------------------------------------------------
# Vivado v2025.1 (64-bit)
# SW Build 6140274 on Wed May 21 22:58:25 MDT 2025
# IP Build 6138677 on Thu May 22 03:10:11 MDT 2025
# SharedData Build 6139179 on Tue May 20 17:58:58 MDT 2025
# Start of session at: Mon Aug 25 00:01:07 2025
# Process ID         : 43568
# Current directory  : /home/prabhat/Work/Smart_IoT_Sensor_Interface_Controller
# Command line       : vivado -mode batch -source scripts/create_project.tcl
# Log file           : /home/prabhat/Work/Smart_IoT_Sensor_Interface_Controller/vivado.log
# Journal file       : /home/prabhat/Work/Smart_IoT_Sensor_Interface_Controller/vivado.jou
# Running On         : fedora
# Platform           : Fedora
# Operating System   : Fedora release 42 (Adams)
# Processor Detail   : AMD Ryzen 7 5800H with Radeon Graphics
# CPU Frequency      : 3375.355 MHz
# CPU Physical cores : 8
# CPU Logical cores  : 16
# Host memory        : 16123 MB
# Swap memory        : 8589 MB
# Total Virtual      : 24712 MB
# Available Virtual  : 17423 MB
#-----------------------------------------------------------
source scripts/create_project.tcl
# set project_name "iot_sensor_controller"
# set project_dir "vivado_project"
# set top_module "iot_sensor_controller" 
# set testbench_top "tb_iot_sensor_controller"
# file mkdir $project_dir
# create_project $project_name $project_dir -part xc7a35tcpg236-1 -force
# set_property target_language Verilog [current_project]
# set_property simulator_language Mixed [current_project]
# set_property default_lib xil_defaultlib [current_project]
# puts "Adding RTL source files..."
Adding RTL source files...
# proc add_file_if_exists {file_path} {
#     if {[file exists $file_path]} {
#         add_files -norecurse $file_path
#         puts "Added: $file_path"
#         return 1
#     } else {
#         puts "WARNING: File not found: $file_path"
#         return 0
#     }
# }
# set rtl_files [list \
#     "rtl/common/iot_sensor_pkg.sv" \
#     "rtl/common/sync_fifo.sv" \
#     "rtl/common/priority_arbiter.sv" \
#     "rtl/sensor_interfaces/i2c_master.sv" \
#     "rtl/sensor_interfaces/spi_master.sv" \
#     "rtl/sensor_interfaces/temperature_sensor_interface.sv" \
#     "rtl/sensor_interfaces/humidity_sensor_interface.sv" \
#     "rtl/sensor_interfaces/motion_sensor_interface.sv" \
#     "rtl/packet_framer/packet_framer.sv" \
#     "rtl/packet_framer/serial_transmitter.sv" \
#     "rtl/power_controller/power_controller.sv" \
#     "rtl/iot_sensor_controller.sv" \
# ]
# set files_added 0
# foreach file $rtl_files {
#     if {[add_file_if_exists $file]} {
#         incr files_added
#     }
# }
Added: rtl/common/iot_sensor_pkg.sv
Added: rtl/common/sync_fifo.sv
Added: rtl/common/priority_arbiter.sv
Added: rtl/sensor_interfaces/i2c_master.sv
Added: rtl/sensor_interfaces/spi_master.sv
Added: rtl/sensor_interfaces/temperature_sensor_interface.sv
Added: rtl/sensor_interfaces/humidity_sensor_interface.sv
Added: rtl/sensor_interfaces/motion_sensor_interface.sv
Added: rtl/packet_framer/packet_framer.sv
Added: rtl/packet_framer/serial_transmitter.sv
Added: rtl/power_controller/power_controller.sv
Added: rtl/iot_sensor_controller.sv
# puts "Added $files_added RTL files"
Added 12 RTL files
# set all_files [get_files]
# set sv_files {}
# foreach file $all_files {
#     if {[file extension $file] == ".sv"} {
#         lappend sv_files $file
#     }
# }
# if {[llength $sv_files] > 0} {
#     set_property file_type SystemVerilog $sv_files
#     puts "Set [llength $sv_files] files to SystemVerilog type"
# } else {
#     puts "WARNING: No SystemVerilog files found to set type"
# }
Set 12 files to SystemVerilog type
# set top_file_found 0
# foreach file [get_files] {
#     if {[string match "*$top_module.sv" $file]} {
#         set_property top $top_module [current_fileset]
#         puts "Set top module: $top_module"
#         set top_file_found 1
#         break
#     }
# }
Set top module: iot_sensor_controller
# if {!$top_file_found} {
#     puts "WARNING: Top module file not found: $top_module.sv"
# }
# update_compile_order -fileset sources_1
# set unit_test_files [list \
#     "testbench/unit_tests/tb_sync_fifo.sv" \
#     "testbench/unit_tests/tb_priority_arbiter.sv" \
# ]
# set integration_test_files [list \
#     "testbench/integration_tests/tb_iot_sensor_controller.sv" \
# ]
# set unit_tests_exist 1
# foreach file $unit_test_files {
#     if {![file exists $file]} {
#         set unit_tests_exist 0
#         puts "WARNING: Unit test file missing: $file"
#     }
# }
# if {$unit_tests_exist} {
#     create_fileset -simset unit_tests
#     current_fileset -simset unit_tests
#     foreach file $unit_test_files {
#         add_files -fileset unit_tests -norecurse $file
#     }
#     puts "Created unit_tests simulation set"
# } else {
#     puts "WARNING: Skipping unit_tests fileset - missing files"
# }
Created unit_tests simulation set
# set integration_tests_exist 1
# foreach file $integration_test_files {
#     if {![file exists $file]} {
#         set integration_tests_exist 0
#         puts "WARNING: Integration test file missing: $file"
#     }
# }
# if {$integration_tests_exist} {
#     create_fileset -simset integration_tests
#     current_fileset -simset integration_tests
#     foreach file $integration_test_files {
#         add_files -fileset integration_tests -norecurse $file
#     }
#     
#     # Set testbench top
#     set_property top $testbench_top [get_filesets integration_tests]
#     set_property top_lib xil_defaultlib [get_filesets integration_tests]
#     puts "Created integration_tests simulation set with top: $testbench_top"
# } else {
#     puts "WARNING: Skipping integration_tests fileset - missing files"
# }
Created integration_tests simulation set with top: tb_iot_sensor_controller
# set sim_filesets [get_filesets -filter {FILESET_TYPE == SimulationSrcs}]
# foreach simset $sim_filesets {
#     set_property -name {xsim.simulate.runtime} -value {50ms} -objects $simset
#     set_property -name {xsim.simulate.log_all_signals} -value {true} -objects $simset
#     set_property -name {xsim.simulate.wdb} -value {} -objects $simset
#     puts "Configured simulation properties for: $simset"
# }
Configured simulation properties for: sim_1
Configured simulation properties for: unit_tests
Configured simulation properties for: integration_tests
# foreach simset $sim_filesets {
#     set sim_files [get_files -of_objects $simset]
#     set sim_sv_files {}
#     foreach file $sim_files {
#         if {[file extension $file] == ".sv"} {
#             lappend sim_sv_files $file
#         }
#     }
#     if {[llength $sim_sv_files] > 0} {
#         set_property file_type SystemVerilog $sim_sv_files
#         puts "Set SystemVerilog type for [llength $sim_sv_files] simulation files in $simset"
#     }
# }
WARNING: [Vivado 12-818] No files matched '*'
Set SystemVerilog type for 2 simulation files in unit_tests
Set SystemVerilog type for 1 simulation files in integration_tests
# foreach simset $sim_filesets {
#     current_fileset -simset $simset
#     update_compile_order -fileset $simset
# }
# save_project_as $project_name $project_dir -force
ERROR: [Coretcl 2-101] Project '/home/prabhat/Work/Smart_IoT_Sensor_Interface_Controller/vivado_project/iot_sensor_controller.xpr' is already open.
INFO: [Common 17-206] Exiting Vivado at Mon Aug 25 00:01:15 2025...
